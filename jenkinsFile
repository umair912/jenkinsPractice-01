pipeline {
    agent any
    environment {
        CI = 'true' 
    }
    stages {
        stage('Setup NODE Environment') {
              steps {
                sh '''#!/bin/bash +x
                  set -o errexit

                  curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
                  source ~/.nvm/nvm.sh
                  nvm install 8.0.0

                '''
              }
            }
        stage('Build') {
            echo 'building an example for jenkins pipeline'
        }
        steps {
            // sh 'PATH=/sbin:/usr/sbin:/usr/bin:/usr/local/bin'
            // sh "npm run test"
        }
    }
}